.marker {
  width: 25px;
  height: 25px;
  border-radius: 50%;

  .cursor-pointer;

  &.public {
    box-shadow: 0px 0px 10px rgba(1, 255, 255, 0.5);
  }

  &.private {
    box-shadow: 0px 0px 10px rgba(255, 235, 59, 0.65);
  }

  &.friend {
    box-shadow: 0px 0px 10px #e91e63;
  }

  &.highlight {
    box-shadow: none;
    z-index: 10010101010;

    &:before,
    &:after {
      content: "";
      .absolute;
      top: 50%;
      left: 50%;

      width: 150%;
      height: 150%;
      border-radius: 50%;

      .bg-yellow;
      transform: translate3d(-50%, -50%, 0) scale(1);
      transform-origin: center;
      animation: bounce 1s ease infinite;

      z-index: -1;
    }

    &::before {
      opacity: 0.5;
    }

    &::after {
      opacity: 0.3;
      animation-delay: 0.2s;
    }

    svg {
      transform: scale(1.2);
    }
  }

  &.marker-draggable {
    cursor: move;
    box-shadow: none;
    z-index: 10010101010;

    &:before,
    &:after {
      content: "";
      .absolute;
      top: 50%;
      left: 50%;

      width: 150%;
      height: 150%;
      border-radius: 50%;

      .bg-yellow;
      transform: translate3d(-50%, -50%, 0) scale(1);
      transform-origin: center;
      animation: bounce 1s ease infinite;

      z-index: -1;
    }

    &::before {
      opacity: 0.5;
    }

    &::after {
      opacity: 0.3;
      animation-delay: 0.2s;
    }

    svg {
      transform: scale(1.2);
    }
  }
}

@keyframes bounce {
  0% {
    transform: translate3d(-50%, -50%, 0) scale(1);
  }
  100% {
    transform: translate3d(-50%, -50%, 0) scale(2);
    opacity: 0;
  }
}

.mapboxgl-marker,
.mapboxgl-popup {
  position: absolute;
  top: 0;
  left: 0;
  will-change: transform;
}

.mapboxgl-popup-content {
  .bg-dark;
  .px-4;
  .py-2;
  .text-white;
}

//Default mapbox style to correctly display the popup

.mapboxgl-popup-anchor-top > .mapboxgl-popup-content {
  margin-top: 10px;
}

.mapboxgl-popup {
  padding-bottom: 40px;
}

.mapboxgl-popup {
  position: absolute;
  top: 0;
  left: 0;
  display: -webkit-flex;
  display: flex;
  flex-direction: column;
  will-change: transform;
  pointer-events: none;
}
